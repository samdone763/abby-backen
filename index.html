<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Abby Cake and Bites Â· Himo, Tanzania</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,700;1,400&family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
*{box-sizing:border-box;margin:0;padding:0}
:root{--rose:#e8927c;--deep:#3d1f1f;--cream:#fdf8f3;--soft:#f5e6da;--muted:#9a7060;--border:rgba(201,125,110,0.15);--card:#fff}
body{font-family:'Jost',sans-serif;background:var(--cream);color:var(--deep);min-height:100vh}
/* NAV */
nav{position:sticky;top:0;z-index:999;background:rgba(253,248,243,0.97);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);height:54px;display:flex;align-items:center;justify-content:space-between;padding:0 14px;gap:8px}
.brand{font-family:'Cormorant Garamond',serif;font-size:16px;font-weight:700;color:var(--deep);white-space:nowrap;flex-shrink:0}
.brand span{color:var(--rose)}
.nav-links{display:flex;gap:2px}
.nl{padding:5px 10px;border-radius:16px;border:none;background:transparent;font-family:'Jost',sans-serif;font-size:11px;font-weight:500;color:var(--muted);cursor:pointer;transition:all .2s;white-space:nowrap}
.nl:hover{background:var(--soft)}.nl.on{background:var(--rose);color:#fff}
.status{font-size:10px;font-weight:600;padding:3px 9px;border-radius:14px;flex-shrink:0}
.open{background:#e8f5e9;color:#2e7d32}.closed{background:#fce4ec;color:#c62828}
/* PAGES */
.pg{display:none;animation:fadeIn .3s ease}.pg.on{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
/* HOME */
.hero{background:linear-gradient(150deg,#fdf8f3,#f5e6da,#eeddd0);padding:64px 18px 48px;text-align:center;position:relative;overflow:hidden}
.hero::before{content:'';position:absolute;top:-60px;right:-60px;width:260px;height:260px;background:radial-gradient(circle,rgba(232,146,124,.13),transparent 70%);border-radius:50%;pointer-events:none}
.hero-tag{display:inline-block;border:1px solid var(--rose);color:var(--rose);padding:4px 14px;border-radius:16px;font-size:11px;font-weight:500;letter-spacing:.1em;text-transform:uppercase;margin-bottom:14px}
.hero h1{font-family:'Cormorant Garamond',serif;font-size:clamp(32px,8vw,60px);color:var(--deep);line-height:1.05;margin-bottom:12px;font-weight:700}
.hero h1 em{color:var(--rose);font-style:italic}
.hero-sub{font-size:13px;color:var(--muted);max-width:360px;margin:0 auto 24px;line-height:1.7;font-weight:300}
.hero-btns{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.btn{padding:11px 22px;border-radius:26px;font-family:'Jost',sans-serif;font-size:13px;font-weight:600;cursor:pointer;border:none;transition:all .25s;letter-spacing:.02em;display:inline-block;text-decoration:none}
.btn-rose{background:var(--rose);color:#fff;box-shadow:0 4px 14px rgba(232,146,124,.4)}.btn-rose:hover{transform:translateY(-2px)}
.btn-out{background:transparent;color:var(--rose);border:2px solid var(--rose)}.btn-out:hover{background:var(--rose);color:#fff}
.btn-green{background:#25D366;color:#fff;box-shadow:0 4px 14px rgba(37,211,102,.35)}.btn-green:hover{transform:translateY(-2px)}
.wrap{max-width:840px;margin:0 auto;padding:28px 15px}
.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(155px,1fr));gap:10px;margin-bottom:34px}
.info-card{background:var(--card);border-radius:12px;padding:15px;border:1px solid var(--border)}
.ic-icon{font-size:20px;margin-bottom:7px}.ic-label{font-size:10px;font-weight:600;color:var(--rose);text-transform:uppercase;letter-spacing:.1em;margin-bottom:3px}.ic-val{font-size:13px;font-weight:500;line-height:1.5}
.section-title{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:700;color:var(--deep);margin-bottom:4px}
.section-sub{color:var(--muted);font-size:12px;margin-bottom:14px}
.hours-list{background:var(--card);border-radius:12px;overflow:hidden;border:1px solid var(--border)}
.h-row{display:flex;justify-content:space-between;align-items:center;padding:11px 15px;border-bottom:1px solid var(--border);font-size:12px}
.h-row:last-child{border-bottom:none}.h-row.today{background:linear-gradient(90deg,rgba(232,146,124,.06),transparent)}
.h-day{font-weight:500}.h-time{color:var(--muted)}.h-closed{color:var(--rose);font-style:italic}
/* GALLERY */
.gal-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px;margin-top:14px}
.gal-item{border-radius:12px;overflow:hidden;aspect-ratio:1;background:var(--soft);border:1px solid var(--border);position:relative;cursor:pointer}
.gal-item img{width:100%;height:100%;object-fit:cover;transition:transform .3s}.gal-item:hover img{transform:scale(1.05)}
.gal-cap{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,rgba(61,31,31,.72));color:#fff;font-size:11px;font-weight:500;padding:18px 7px 6px;text-align:center}
.gal-empty{text-align:center;padding:50px 20px;color:var(--muted);font-size:13px;grid-column:1/-1}
/* MENU */
.menu-section{margin-bottom:28px}
.menu-cat{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;color:var(--deep);padding-bottom:8px;border-bottom:2px solid var(--soft);margin-bottom:12px}
.menu-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(145px,1fr));gap:8px}
.m-card{background:var(--card);border-radius:11px;padding:13px;border:1px solid var(--border);cursor:pointer;transition:all .2s}
.m-card:hover{border-color:var(--rose);transform:translateY(-2px);box-shadow:0 4px 12px rgba(232,146,124,.15)}
.m-card:active{transform:scale(.97)}
.m-name{font-weight:600;font-size:12px;color:var(--deep);margin-bottom:2px}
.m-desc{font-size:11px;color:var(--muted);margin-bottom:6px;line-height:1.4}
.m-price{font-size:12px;font-weight:700;color:var(--rose)}
/* CHAT */
.chat-wrap{max-width:580px;margin:0 auto}
.chat-box{background:var(--card);border-radius:18px;border:1px solid var(--border);box-shadow:0 6px 28px rgba(61,31,31,.08);overflow:hidden;display:flex;flex-direction:column;height:560px}
.chat-head{background:linear-gradient(135deg,var(--rose),#c9644e);padding:13px 16px;display:flex;align-items:center;gap:10px;color:#fff}
.chat-av{width:38px;height:38px;background:rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:19px;flex-shrink:0}
.chat-head h3{font-size:13px;font-weight:600;margin-bottom:1px}
.chat-head p{font-size:10px;opacity:.85}
.online-dot{width:6px;height:6px;background:#7fff7f;border-radius:50%;display:inline-block;margin-right:3px}
.chat-msgs{flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:8px;background:#fdf9f7}
.chat-msgs::-webkit-scrollbar{width:2px}.chat-msgs::-webkit-scrollbar-thumb{background:var(--soft)}
.msg{max-width:85%}.msg.u{align-self:flex-end}.msg.a{align-self:flex-start}
.bub{padding:9px 12px;border-radius:15px;font-size:13px;line-height:1.6}
.msg.u .bub{background:var(--rose);color:#fff;border-bottom-right-radius:3px}
.msg.a .bub{background:#fff;color:var(--deep);border:1px solid var(--border);border-bottom-left-radius:3px;box-shadow:0 1px 4px rgba(61,31,31,.05)}
.msg-time{font-size:9px;color:#ccc;margin-top:2px;padding:0 2px}.msg.u .msg-time{text-align:right}
.typing{display:flex;gap:3px;align-items:center;padding:9px 12px}
.typing span{width:5px;height:5px;background:var(--rose);border-radius:50%;animation:bounce 1.2s infinite}
.typing span:nth-child(2){animation-delay:.2s}.typing span:nth-child(3){animation-delay:.4s}
@keyframes bounce{0%,80%,100%{transform:translateY(0)}40%{transform:translateY(-4px)}}
.quick-btns{display:flex;flex-wrap:wrap;gap:5px;padding:0 12px 8px;background:#fdf9f7}
.qbtn{padding:5px 10px;background:#fff;border:1.5px solid var(--soft);border-radius:11px;font-size:11px;color:var(--rose);cursor:pointer;font-family:'Jost',sans-serif;font-weight:500;transition:all .15s}
.qbtn:hover{background:var(--soft)}
/* PHOTO UPLOAD IN CHAT */
.photo-upload-area{display:none;padding:8px 13px;background:#fdf9f7;border-top:1px solid var(--border)}
.photo-upload-label{display:flex;align-items:center;gap:7px;padding:8px 12px;background:#fff;border:1.5px dashed var(--rose);border-radius:10px;cursor:pointer;font-size:12px;color:var(--rose);font-weight:500;font-family:'Jost',sans-serif}
.photo-preview-box{margin-top:6px;display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.photo-preview-box img{width:68px;height:68px;object-fit:cover;border-radius:8px;border:2px solid var(--rose)}
.rm-photo-btn{background:var(--rose);color:#fff;border:none;border-radius:50%;width:20px;height:20px;font-size:12px;cursor:pointer;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.chat-bottom{padding:9px 11px;border-top:1px solid var(--border);background:#fff;display:flex;gap:6px;align-items:flex-end}
.chat-input{flex:1;border:1.5px solid var(--soft);border-radius:15px;padding:8px 11px;font-family:'Jost',sans-serif;font-size:13px;outline:none;resize:none;max-height:70px;background:#fdf9f7;color:var(--deep);transition:border-color .2s}
.chat-input:focus{border-color:var(--rose)}
.send-btn{width:36px;height:36px;background:var(--rose);border:none;border-radius:50%;color:#fff;font-size:15px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s}
.send-btn:hover{transform:scale(1.08)}.send-btn:disabled{opacity:.4;cursor:not-allowed;transform:none}
/* ADMIN */
.admin-login-card{max-width:320px;margin:44px auto;background:var(--card);border-radius:16px;padding:30px 24px;box-shadow:0 6px 28px rgba(61,31,31,.1);text-align:center;border:1px solid var(--border)}
.admin-login-card h2{font-family:'Cormorant Garamond',serif;font-size:22px;color:var(--deep);margin-bottom:4px}
.admin-login-card p{color:var(--muted);font-size:12px;margin-bottom:20px}
.field{margin-bottom:12px;text-align:left}
.field label{display:block;font-size:11px;font-weight:600;color:var(--deep);margin-bottom:3px;letter-spacing:.04em}
.field input{width:100%;padding:9px 12px;border:1.5px solid var(--soft);border-radius:8px;font-family:'Jost',sans-serif;font-size:13px;outline:none;background:var(--cream);transition:border-color .2s;color:var(--deep)}
.field input:focus{border-color:var(--rose)}
.alert-err{background:#fce4ec;color:#c62828;padding:8px 11px;border-radius:7px;font-size:12px;margin-bottom:10px;text-align:left}
.alert-ok{background:#e8f5e9;color:#2e7d32;padding:8px 11px;border-radius:7px;font-size:12px;margin-bottom:10px;text-align:left}
.admin-wrap{max-width:840px;margin:0 auto;padding:24px 14px}
.admin-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;flex-wrap:wrap;gap:8px}
.admin-header h2{font-family:'Cormorant Garamond',serif;font-size:22px;color:var(--deep)}
.admin-tabs{display:flex;gap:7px;margin-bottom:18px}
.atab{padding:6px 15px;border-radius:15px;border:1.5px solid var(--soft);background:transparent;font-family:'Jost',sans-serif;font-size:12px;font-weight:600;color:var(--muted);cursor:pointer;transition:all .2s}
.atab.on{background:var(--rose);color:#fff;border-color:var(--rose)}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:9px;margin-bottom:20px}
.stat-card{background:var(--card);border-radius:11px;padding:13px;border:1px solid var(--border)}
.stat-n{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:700;color:var(--rose)}
.stat-l{font-size:10px;color:var(--muted);margin-top:2px;font-weight:500;text-transform:uppercase;letter-spacing:.05em}
.orders-table{background:var(--card);border-radius:12px;border:1px solid var(--border);overflow:hidden}
.orders-head{background:linear-gradient(90deg,var(--soft),var(--cream));padding:10px 14px;display:grid;grid-template-columns:72px 1fr 1fr 64px;gap:8px;font-size:10px;font-weight:600;color:var(--deep);text-transform:uppercase;letter-spacing:.05em}
.order-row{padding:10px 14px;display:grid;grid-template-columns:72px 1fr 1fr 64px;gap:8px;border-top:1px solid var(--border);font-size:12px;align-items:center}
.order-row:hover{background:var(--cream)}
.badge{padding:2px 8px;border-radius:8px;font-size:10px;font-weight:600}
.badge-pending{background:#fff8e1;color:#f57f17}.badge-confirmed{background:#e8f5e9;color:#2e7d32}
/* ADMIN GALLERY */
.gal-upload-box{border:2px dashed var(--rose);border-radius:11px;padding:22px;text-align:center;cursor:pointer;background:#fff;margin-bottom:12px;transition:all .2s}
.gal-upload-box:hover{background:rgba(232,146,124,.04)}
.gal-admin-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(135px,1fr));gap:9px;margin-top:12px}
.gal-admin-item{background:var(--card);border-radius:11px;overflow:hidden;border:1px solid var(--border);position:relative}
.gal-admin-item img{width:100%;aspect-ratio:1;object-fit:cover}
.gal-admin-info{padding:7px;font-size:11px;font-weight:600;color:var(--deep)}
.gal-del-btn{position:absolute;top:5px;right:5px;background:rgba(196,28,28,.85);color:#fff;border:none;border-radius:50%;width:24px;height:24px;font-size:14px;cursor:pointer;font-weight:700;display:flex;align-items:center;justify-content:center}
/* FAB */
.wa-fab{position:fixed;bottom:20px;right:20px;width:50px;height:50px;background:#25D366;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 14px rgba(37,211,102,.45);z-index:998;text-decoration:none;transition:transform .2s}
.wa-fab:hover{transform:scale(1.1)}
footer{background:var(--deep);color:rgba(255,255,255,.5);text-align:center;padding:24px 15px;font-size:12px;margin-top:48px}
footer strong{color:var(--rose)}
@media(max-width:440px){.orders-head,.order-row{grid-template-columns:58px 1fr 1fr}.orders-head span:last-child,.order-row span:last-child{display:none}}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="brand">ğŸ‚ Abby <span>Cake & Bites</span></div>
  <div class="nav-links">
    <button class="nl on" onclick="goTo('home')">ğŸ </button>
    <button class="nl" onclick="goTo('gallery')">ğŸ–¼</button>
    <button class="nl" onclick="goTo('menu')">ğŸ‚</button>
    <button class="nl" onclick="goTo('chat')">ğŸ’¬</button>
    <button class="nl" onclick="goTo('admin')">ğŸ”</button>
  </div>
  <span id="statusBadge" class="status closed">Closed</span>
</nav>

<!-- HOME PAGE -->
<div id="pg-home" class="pg on">
  <div class="hero">
    <div class="hero-tag">Handcrafted Â· Himo, Tanzania</div>
    <h1>Where Every Bite is<br/><em>Pure Delight</em></h1>
    <p class="hero-sub">Custom cakes, pastries and sweets baked fresh daily with love for every occasion.</p>
    <div class="hero-btns">
      <button class="btn btn-rose" onclick="goTo('chat')">ğŸ‚ Order Now</button>
      <button class="btn btn-out" onclick="goTo('gallery')">View Gallery</button>
    </div>
  </div>
  <div class="wrap">
    <div class="info-grid">
      <div class="info-card"><div class="ic-icon">ğŸ“</div><div class="ic-label">Location</div><div class="ic-val">Njiapanda, Himo<br/>Tanzania</div></div>
      <div class="info-card"><div class="ic-icon">ğŸ“</div><div class="ic-label">Phone / WhatsApp</div><div class="ic-val">0620 767 919</div></div>
      <div class="info-card"><div class="ic-icon">ğŸ•</div><div class="ic-label">Today's Hours</div><div class="ic-val" id="todayHours">Loading...</div></div>
      <div class="info-card"><div class="ic-icon">ğŸš—</div><div class="ic-label">Delivery</div><div class="ic-val">Available in Himo<br/>TZS 3,000â€“8,000</div></div>
    </div>
    <div class="section-title">Opening Hours</div>
    <div class="section-sub">We are here to sweeten your week</div>
    <div class="hours-list" id="hoursList"></div>
  </div>
  <footer><strong>Abby Cake and Bites</strong> Â· Njiapanda, Himo, Tanzania Â· 0620 767 919<br/>Made with â¤ï¸ for every sweet occasion</footer>
</div>

<!-- GALLERY PAGE -->
<div id="pg-gallery" class="pg">
  <div class="wrap">
    <div class="section-title">Our Gallery</div>
    <div class="section-sub">Beautiful creations made with love â€” tap any photo to order</div>
    <div class="gal-grid" id="pubGallery">
      <div class="gal-empty">ğŸ“¸ No photos yet. Check back soon!</div>
    </div>
  </div>
</div>

<!-- MENU PAGE -->
<div id="pg-menu" class="pg">
  <div class="wrap">
    <div class="section-title">Menu & Prices</div>
    <div class="section-sub">Tap any item to start your order instantly</div>
    <div class="menu-section">
      <div class="menu-cat">ğŸª Bites / Vitafunwa</div>
      <div class="menu-grid">
        <div class="m-card" onclick="orderItem('Cupcakes with Buttercream')"><div class="m-name">Cupcakes with Buttercream</div><div class="m-desc">Decorated with creamy buttercream</div><div class="m-price">TZS 10,000/=</div></div>
        <div class="m-card" onclick="orderItem('Cookies Package')"><div class="m-name">Cookies Package</div><div class="m-desc">Freshly baked cookies</div><div class="m-price">TZS 5,000/=</div></div>
        <div class="m-card" onclick="orderItem('Plain Cupcakes 6pcs')"><div class="m-name">Plain Cupcakes 6pcs</div><div class="m-desc">Package of 6 pieces</div><div class="m-price">TZS 3,000/=</div></div>
        <div class="m-card" onclick="orderItem('Chapati Package')"><div class="m-name">Chapati Package</div><div class="m-desc">Soft and delicious</div><div class="m-price">TZS 10,000/=</div></div>
        <div class="m-card" onclick="orderItem('Donut Package 6pcs')"><div class="m-name">Donut Package 6pcs</div><div class="m-desc">6 pieces glazed and fluffy</div><div class="m-price">TZS 10,000/=</div></div>
        <div class="m-card" onclick="orderItem('Mandazi Package 10pcs')"><div class="m-name">Mandazi 10pcs</div><div class="m-desc">Soft and sweet</div><div class="m-price">TZS 3,000/=</div></div>
        <div class="m-card" onclick="orderItem('Meat Sambusa 8pcs')"><div class="m-name">Meat Sambusa 8pcs</div><div class="m-desc">Crispy and tasty</div><div class="m-price">TZS 10,000/=</div></div>
      </div>
    </div>
    <div class="menu-section">
      <div class="menu-cat">ğŸ‚ Cakes</div>
      <div class="menu-grid">
        <div class="m-card" onclick="orderItem('Plain Cake')"><div class="m-name">Plain Cake</div><div class="m-desc">Simple and delicious</div><div class="m-price">TZS 10,000/=</div></div>
        <div class="m-card" onclick="orderItem('Bento Cake')"><div class="m-name">Bento Cake</div><div class="m-desc">Cute mini bento style</div><div class="m-price">TZS 15,000/=</div></div>
        <div class="m-card" onclick="orderItem('Birthday Cake 700g')"><div class="m-name">Birthday Cake 700g</div><div class="m-desc">Perfect for celebrations</div><div class="m-price">TZS 25,000/=</div></div>
        <div class="m-card" onclick="orderItem('Chocolate Cake 1kg')"><div class="m-name">Chocolate Cake 1kg</div><div class="m-desc">Rich dark chocolate</div><div class="m-price">TZS 45,000/=</div></div>
        <div class="m-card" onclick="orderItem('Flavour Cake 1kg')"><div class="m-name">Flavour Cake 1kg</div><div class="m-desc">Your choice of flavor</div><div class="m-price">TZS 35,000/=</div></div>
        <div class="m-card" onclick="orderItem('Fruits Cake 1kg')"><div class="m-name">Fruits Cake 1kg</div><div class="m-desc">Fresh fruits and cream</div><div class="m-price">TZS 55,000/=</div></div>
        <div class="m-card" onclick="orderItem('Red Velvet Cake 1kg')"><div class="m-name">Red Velvet Cake 1kg</div><div class="m-desc">Velvety smooth and elegant</div><div class="m-price">TZS 40,000/=</div></div>
      </div>
    </div>
    <div style="text-align:center;margin-top:16px">
      <button class="btn btn-rose" onclick="goTo('chat')">Order via Chat ğŸ‚</button>
    </div>
  </div>
</div>

<!-- CHAT PAGE -->
<div id="pg-chat" class="pg">
  <div class="wrap">
    <div class="section-title">Chat with Abby</div>
    <div class="section-sub">Smart assistant â€” order easily and attach a reference photo</div>
    <div class="chat-wrap">
      <div class="chat-box">
        <div class="chat-head">
          <div class="chat-av">ğŸ‚</div>
          <div>
            <h3>Abby Â· Smart Assistant</h3>
            <p><span class="online-dot"></span>Ready to take your order</p>
          </div>
        </div>
        <div class="chat-msgs" id="chatMsgs"></div>
        <div class="quick-btns" id="quickBtns">
          <button class="qbtn" onclick="userSend('What cakes do you have?')">What cakes?</button>
          <button class="qbtn" onclick="userSend('Are you open now?')">Open now?</button>
          <button class="qbtn" onclick="userSend('I want to order')">Order now</button>
          <button class="qbtn" onclick="userSend('What are your prices?')">Prices?</button>
          <button class="qbtn" onclick="userSend('Do you deliver?')">Delivery?</button>
        </div>
        <!-- REFERENCE PHOTO UPLOAD -->
        <div class="photo-upload-area" id="photoUploadArea">
          <label class="photo-upload-label" for="refPhotoInput">
            ğŸ“ Attach reference photo (optional)
          </label>
          <input type="file" id="refPhotoInput" accept="image/*" onchange="onRefPhoto(this)" style="display:none"/>
          <div class="photo-preview-box" id="photoPreviewBox"></div>
        </div>
        <div class="chat-bottom">
          <textarea class="chat-input" id="chatInput" placeholder="Type your message..." rows="1"
            onkeydown="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();sendFromInput()}"></textarea>
          <button class="send-btn" id="sendBtn" onclick="sendFromInput()">â¤</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ADMIN PAGE -->
<div id="pg-admin" class="pg">
  <!-- LOGIN -->
  <div id="adminLogin">
    <div class="wrap">
      <div class="admin-login-card">
        <div style="font-size:36px;margin-bottom:10px">ğŸ”</div>
        <h2>Admin Login</h2>
        <p>Abby Cake & Bites Dashboard</p>
        <div id="loginErr"></div>
        <div class="field"><label>Username</label><input id="adminUser" placeholder="abby_admin" autocomplete="off"/></div>
        <div class="field"><label>Password</label><input id="adminPass" type="password" placeholder="Password" onkeydown="if(event.key==='Enter')doLogin()"/></div>
        <button class="btn btn-rose" style="width:100%;margin-top:4px" onclick="doLogin()" id="loginBtn">Login â†’</button>
      </div>
    </div>
  </div>
  <!-- DASHBOARD -->
  <div id="adminDash" style="display:none">
    <div class="admin-wrap">
      <div class="admin-header">
        <h2>Dashboard</h2>
        <button class="btn btn-out" style="font-size:12px;padding:6px 14px" onclick="doLogout()">Logout</button>
      </div>
      <div class="admin-tabs">
        <button class="atab on" onclick="switchTab('orders',this)">ğŸ“¦ Orders</button>
        <button class="atab" onclick="switchTab('gallery',this)">ğŸ–¼ Gallery</button>
      </div>
      <!-- ORDERS TAB -->
      <div id="tab-orders">
        <div class="stats-grid" id="statsGrid"></div>
        <div id="ordersContent"></div>
      </div>
      <!-- GALLERY TAB -->
      <div id="tab-gallery" style="display:none">
        <div style="background:var(--card);border-radius:13px;padding:18px;border:1px solid var(--border);margin-bottom:18px">
          <h3 style="font-size:14px;font-weight:600;color:var(--deep);margin-bottom:13px">ğŸ“¸ Upload Product Photo</h3>
          <div class="gal-upload-box" onclick="document.getElementById('galFileInput').click()">
            <input type="file" id="galFileInput" accept="image/*" onchange="galPreview(this)" style="display:none"/>
            <div style="font-size:28px">ğŸ“·</div>
            <p style="font-size:12px;color:var(--rose);font-weight:500;margin-top:6px">Tap to select photo</p>
            <small style="font-size:10px;color:var(--muted)">JPG or PNG</small>
          </div>
          <img id="galPreviewImg" style="width:100%;max-height:170px;object-fit:cover;border-radius:9px;margin:8px 0;display:none"/>
          <div class="field" style="margin-bottom:12px">
            <label>Caption (product name)</label>
            <input id="galCaptionInput" placeholder="e.g. Birthday Cake 1kg"/>
          </div>
          <button class="btn btn-rose" style="width:100%" onclick="saveGalleryPhoto()">Upload to Gallery ğŸ“¸</button>
          <div id="galMessage" style="margin-top:9px"></div>
        </div>
        <div class="section-title" style="font-size:18px;margin-bottom:10px">Gallery Photos</div>
        <div class="gal-admin-grid" id="galAdminGrid"></div>
      </div>
    </div>
  </div>
</div>

<!-- WHATSAPP FAB -->
<a class="wa-fab" href="https://wa.me/255620767919" target="_blank" title="WhatsApp">ğŸ’¬</a>

<script>
// â”€â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const API = 'https://abby-backend.onrender.com';
const WA_NUMBER = '255620767919';
const DAYS = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
const HOURS = {0:null,1:[7,19],2:[7,19],3:[7,19],4:[7,19],5:[7,20],6:[7,20]};
const MENU_TEXT =
  'BITES / VITAFUNWA:\n' +
  '- Cupcakes with Buttercream: TZS 10,000\n' +
  '- Cookies Package: TZS 5,000\n' +
  '- Plain Cupcakes 6pcs: TZS 3,000\n' +
  '- Chapati Package: TZS 10,000\n' +
  '- Donut Package 6pcs: TZS 10,000\n' +
  '- Mandazi 10pcs: TZS 3,000\n' +
  '- Meat Sambusa 8pcs: TZS 10,000\n\n' +
  'CAKES:\n' +
  '- Plain Cake: TZS 10,000\n' +
  '- Bento Cake: TZS 15,000\n' +
  '- Birthday Cake 700g: TZS 25,000\n' +
  '- Chocolate Cake 1kg: TZS 45,000\n' +
  '- Flavour Cake 1kg: TZS 35,000\n' +
  '- Fruits Cake 1kg: TZS 55,000\n' +
  '- Red Velvet Cake 1kg: TZS 40,000';

// â”€â”€â”€ HOURS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function isOpen() {
  const n = new Date(), d = n.getDay(), h = n.getHours(), r = HOURS[d];
  return !!(r && h >= r[0] && h < r[1]);
}
function hoursTxt(d) {
  const r = HOURS[d];
  if (!r) return 'Closed';
  return r[0] + ':00 AM â€“ ' + (r[1] > 12 ? (r[1]-12) + ':00 PM' : r[1] + ':00 AM');
}
function initHours() {
  const t = new Date().getDay(), op = isOpen();
  document.getElementById('statusBadge').textContent = op ? 'Open Now' : 'Closed';
  document.getElementById('statusBadge').className = 'status ' + (op ? 'open' : 'closed');
  document.getElementById('todayHours').innerHTML =
    '<strong>' + DAYS[t] + '</strong><br/>' + hoursTxt(t) +
    '<br/><span style="font-size:10px;color:' + (op?'#2e7d32':'#c62828') + ';font-weight:600">' +
    (op ? 'â— Open Now' : 'â— Closed') + '</span>';
  let h = '';
  for (let i = 1; i <= 7; i++) {
    const d = i % 7, today = d === t;
    const tx = hoursTxt(d);
    h += '<div class="h-row' + (today?' today':'') + '">' +
      '<span class="h-day">' + (today?'<strong>':'') + DAYS[d] + (today?' (Today)</strong>':'') + '</span>' +
      (tx==='Closed' ? '<span class="h-closed">Closed</span>' : '<span class="h-time">'+tx+'</span>') +
      '</div>';
  }
  document.getElementById('hoursList').innerHTML = h;
}

// â”€â”€â”€ NAVIGATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goTo(page) {
  document.querySelectorAll('.pg').forEach(p => p.classList.remove('on'));
  document.querySelectorAll('.nl').forEach(b => b.classList.remove('on'));
  document.getElementById('pg-' + page).classList.add('on');
  const pages = ['home','gallery','menu','chat','admin'];
  const idx = pages.indexOf(page);
  if (idx >= 0) document.querySelectorAll('.nl')[idx].classList.add('on');
  if (page === 'gallery') renderPublicGallery();
  if (page === 'chat' && !chatStarted) initChat();
  window.scrollTo(0,0);
}

// â”€â”€â”€ GALLERY (localStorage) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getGallery() {
  try { return JSON.parse(localStorage.getItem('abby_gallery') || '[]'); } catch(e) { return []; }
}
function setGallery(g) { localStorage.setItem('abby_gallery', JSON.stringify(g)); }

function renderPublicGallery() {
  const g = getGallery(), el = document.getElementById('pubGallery');
  if (!g.length) {
    el.innerHTML = '<div class="gal-empty">ğŸ“¸ No photos yet. Check back soon!</div>';
    return;
  }
  el.innerHTML = g.map(it =>
    '<div class="gal-item" onclick="orderItem(\'' + it.caption.replace(/'/g,"\\'") + '\')">' +
    '<img src="' + it.src + '" alt="' + it.caption + '"/>' +
    '<div class="gal-cap">' + it.caption + '</div></div>'
  ).join('');
}

function galPreview(inp) {
  if (!inp.files || !inp.files[0]) return;
  const r = new FileReader();
  r.onload = e => {
    const img = document.getElementById('galPreviewImg');
    img.src = e.target.result;
    img.style.display = 'block';
  };
  r.readAsDataURL(inp.files[0]);
}

function saveGalleryPhoto() {
  const img = document.getElementById('galPreviewImg');
  const cap = document.getElementById('galCaptionInput').value.trim();
  const msgEl = document.getElementById('galMessage');
  if (!img.src || img.style.display === 'none') {
    msgEl.innerHTML = '<div class="alert-err">Please select a photo first.</div>';
    return;
  }
  if (!cap) {
    msgEl.innerHTML = '<div class="alert-err">Please add a caption.</div>';
    return;
  }
  const g = getGallery();
  g.unshift({ id: Date.now(), src: img.src, caption: cap });
  setGallery(g);
  msgEl.innerHTML = '<div class="alert-ok">âœ… Photo uploaded to gallery!</div>';
  document.getElementById('galCaptionInput').value = '';
  document.getElementById('galPreviewImg').style.display = 'none';
  document.getElementById('galFileInput').value = '';
  renderAdminGallery();
  setTimeout(() => msgEl.innerHTML = '', 3000);
}

function deleteGalleryPhoto(id) {
  if (!confirm('Delete this photo from gallery?')) return;
  setGallery(getGallery().filter(i => i.id !== id));
  renderAdminGallery();
}

function renderAdminGallery() {
  const g = getGallery(), el = document.getElementById('galAdminGrid');
  if (!el) return;
  if (!g.length) {
    el.innerHTML = '<p style="color:var(--muted);font-size:13px;padding:20px 0">No photos yet. Upload your first product photo above!</p>';
    return;
  }
  el.innerHTML = g.map(it =>
    '<div class="gal-admin-item">' +
    '<img src="' + it.src + '" alt="' + it.caption + '"/>' +
    '<button class="gal-del-btn" onclick="deleteGalleryPhoto(' + it.id + ')">Ã—</button>' +
    '<div class="gal-admin-info">' + it.caption + '</div></div>'
  ).join('');
}

// â”€â”€â”€ CHAT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let chatStarted = false, chatBusy = false;
let orderStep = null, orderData = {}, refPhotoB64 = null;

function initChat() {
  chatStarted = true;
  const op = isOpen(), t = new Date().getDay(), tom = (t+1)%7;
  const nxt = HOURS[tom] ? 'tomorrow at ' + HOURS[tom][0] + ':00 AM' : 'Monday at 7:00 AM';
  addBotMsg(op
    ? 'Hujambo! Welcome to Abby Cake and Bites! ğŸ‚\n\nWe are OPEN now and ready to take your order!\n\nHow can I help you today?'
    : 'Hujambo! Welcome to Abby Cake and Bites! ğŸ‚\n\nWe are currently CLOSED but will open ' + nxt + '.\n\nYou can pre-order now and we will confirm when we open!'
  );
}

function addUserMsg(txt) {
  const el = document.getElementById('chatMsgs');
  const d = document.createElement('div'); d.className = 'msg u';
  const now = new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
  d.innerHTML = '<div class="bub">' + txt.replace(/\n/g,'<br/>') + '</div><div class="msg-time">' + now + '</div>';
  el.appendChild(d); el.scrollTop = el.scrollHeight;
}

function addBotMsg(txt) {
  const el = document.getElementById('chatMsgs');
  const d = document.createElement('div'); d.className = 'msg a';
  const now = new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
  d.innerHTML = '<div class="bub">' + txt.replace(/\n/g,'<br/>') + '</div><div class="msg-time">' + now + '</div>';
  el.appendChild(d); el.scrollTop = el.scrollHeight;
}

function addBotHtml(html) {
  const el = document.getElementById('chatMsgs');
  const d = document.createElement('div'); d.className = 'msg a';
  const now = new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
  d.innerHTML = '<div class="bub">' + html + '</div><div class="msg-time">' + now + '</div>';
  el.appendChild(d); el.scrollTop = el.scrollHeight;
}

function showTyping() {
  const el = document.getElementById('chatMsgs');
  const d = document.createElement('div'); d.className = 'msg a'; d.id = 'typingIndicator';
  d.innerHTML = '<div class="bub"><div class="typing"><span></span><span></span><span></span></div></div>';
  el.appendChild(d); el.scrollTop = el.scrollHeight;
}
function removeTyping() { const t = document.getElementById('typingIndicator'); if (t) t.remove(); }

function showPhotoUpload() { document.getElementById('photoUploadArea').style.display = 'block'; }
function hidePhotoUpload() {
  document.getElementById('photoUploadArea').style.display = 'none';
  refPhotoB64 = null;
  document.getElementById('photoPreviewBox').innerHTML = '';
  const inp = document.getElementById('refPhotoInput'); if (inp) inp.value = '';
}

function onRefPhoto(inp) {
  if (!inp.files || !inp.files[0]) return;
  const r = new FileReader();
  r.onload = e => {
    refPhotoB64 = e.target.result;
    document.getElementById('photoPreviewBox').innerHTML =
      '<img src="' + refPhotoB64 + '" alt="Reference"/>' +
      '<button class="rm-photo-btn" onclick="removeRefPhoto()">Ã—</button>' +
      '<span style="font-size:10px;color:var(--muted)">Photo attached!</span>';
  };
  r.readAsDataURL(inp.files[0]);
}
function removeRefPhoto() {
  refPhotoB64 = null;
  document.getElementById('photoPreviewBox').innerHTML = '';
  document.getElementById('refPhotoInput').value = '';
}

function getReply(txt) {
  const t = txt.toLowerCase();
  // ORDER FLOW
  if (orderStep === 'item') {
    orderData.item = txt; orderStep = 'name';
    showPhotoUpload();
    return 'Great choice: ' + txt + '! ğŸ‚\n\nYou can attach a reference photo above (optional).\n\nWhat is your full name?';
  }
  if (orderStep === 'name') { orderData.name = txt; orderStep = 'phone'; return 'Nice to meet you, ' + txt + '!\n\nWhat is your phone number?'; }
  if (orderStep === 'phone') { orderData.phone = txt; orderStep = 'delivery'; return 'Got it!\n\nPickup or Delivery?\n(Delivery in Himo: TZS 3,000â€“8,000)'; }
  if (orderStep === 'delivery') { orderData.delivery = txt; orderStep = 'date'; return 'When do you need your order?\n(e.g. Tomorrow, Friday, March 1)'; }
  if (orderStep === 'date') {
    orderData.date = txt; orderStep = 'confirm';
    return 'Please confirm your order:\n\n' +
      'Item: ' + orderData.item + '\n' +
      'Name: ' + orderData.name + '\n' +
      'Phone: ' + orderData.phone + '\n' +
      'Delivery: ' + orderData.delivery + '\n' +
      'Date: ' + orderData.date +
      (refPhotoB64 ? '\nPhoto: âœ… Attached' : '') +
      '\n\nType YES to confirm or NO to cancel.';
  }
  if (orderStep === 'confirm') {
    if (t.includes('yes') || t.includes('ndio')) { confirmOrder(); return null; }
    orderStep = null; orderData = {}; hidePhotoUpload();
    return 'Order cancelled. Type "order" anytime to start again! ğŸ˜Š';
  }
  // GENERAL
  if (t.match(/^(hi|hello|hey|hujambo|habari|salaam|mambo)/)) {
    return 'Hujambo! Welcome to Abby Cake and Bites! ğŸ‚\n\nHow can I help?\n- Type menu: see our prices\n- Type order: place an order\n- Type hours: opening times\n- Type delivery: delivery info';
  }
  if (t.includes('menu') || t.includes('price') || t.includes('bei') || t.includes('how much') || t.includes('vitafunwa') || (t.includes('what') && (t.includes('have') || t.includes('sell')))) {
    return MENU_TEXT;
  }
  if (t.includes('order') || t.includes('buy') || t.includes('nataka') || t.includes('want') || t.includes('agiza')) {
    orderStep = 'item'; orderData = {}; hidePhotoUpload();
    return 'What would you like to order? ğŸ‚\n\n' + MENU_TEXT + '\n\nType the item name!';
  }
  if (t.includes('open') || t.includes('hour') || t.includes('time') || t.includes('wazi')) {
    return 'Opening Hours:\nMonâ€“Thu: 7:00 AM â€“ 7:00 PM\nFriâ€“Sat: 7:00 AM â€“ 8:00 PM\nSunday: Closed\n\nRight now we are: ' + (isOpen() ? 'âœ… OPEN' : 'âŒ CLOSED');
  }
  if (t.includes('deliver') || t.includes('location') || t.includes('where') || t.includes('wapi')) {
    return 'We are at:\nNjiapanda, Himo, Tanzania\n\nDelivery in Himo: TZS 3,000â€“8,000\nPickup also available!\n\nCall: 0620 767 919';
  }
  if (t.includes('gallery') || t.includes('photo') || t.includes('picture') || t.includes('picha')) {
    goTo('gallery'); return 'Here is our gallery! Tap any photo to order that item. ğŸ“¸';
  }
  if (t.includes('thank') || t.includes('asante')) { return 'Asante sana! It\'s our pleasure! ğŸ™ğŸ‚'; }
  if (t.includes('bye') || t.includes('kwaheri')) { return 'Kwaheri! Come back for more sweet treats! ğŸ‚â¤ï¸'; }
  return 'I can help with:\n- menu: see prices\n- order: place an order\n- hours: opening times\n- delivery: info\n\nOr call us: 0620 767 919 ğŸ“';
}

async function confirmOrder() {
  // Save to backend
  try {
    await fetch(API + '/api/orders', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        customer: {name: orderData.name, phone: orderData.phone},
        item: {type: orderData.item, size:'', flavor:'', quantity:1},
        delivery: {type: orderData.delivery.toLowerCase().includes('delivery')?'delivery':'pickup', address:''},
        dateNeeded: orderData.date,
        notes: refPhotoB64 ? 'Customer attached a reference photo' : ''
      })
    });
  } catch(e) {}

  // Build WhatsApp message
  const waTxt =
    'ğŸ‚ NEW ORDER - Abby Cake and Bites\n\n' +
    'Name: ' + orderData.name + '\n' +
    'Phone: ' + orderData.phone + '\n' +
    'Item: ' + orderData.item + '\n' +
    'Delivery: ' + orderData.delivery + '\n' +
    'Date: ' + orderData.date +
    (refPhotoB64 ? '\n\nğŸ“ Customer has a reference photo. Please ask them to send it on WhatsApp.' : '');
  const waUrl = 'https://wa.me/' + WA_NUMBER + '?text=' + encodeURIComponent(waTxt);

  removeTyping();

  // Build confirmation HTML
  let html = 'âœ… Order confirmed! Thank you <strong>' + orderData.name + '</strong>!<br/><br/>' +
    'We will call you on <strong>' + orderData.phone + '</strong> to confirm.<br/><br/>';

  if (refPhotoB64) {
    html += '<img src="' + refPhotoB64 + '" style="width:85px;height:85px;object-fit:cover;border-radius:10px;border:2px solid var(--rose);display:block;margin-bottom:10px"/>';
  }

  html +=
    '<a href="' + waUrl + '" target="_blank" style="display:inline-block;background:#25D366;color:white;padding:11px 22px;border-radius:22px;text-decoration:none;font-weight:600;font-size:13px;margin-bottom:6px">ğŸ“± Send Order on WhatsApp</a>' +
    '<br/><span style="font-size:10px;color:#aaa">Tap to notify the bakery directly!</span>';

  addBotHtml(html);

  orderStep = null; orderData = {}; hidePhotoUpload();
  chatBusy = false;
  document.getElementById('sendBtn').disabled = false;
}

async function userSend(txt) {
  if (chatBusy || !txt.trim()) return;
  if (!chatStarted) initChat();
  addUserMsg(txt);
  chatBusy = true;
  document.getElementById('sendBtn').disabled = true;
  if (document.getElementById('chatMsgs').children.length > 4) {
    document.getElementById('quickBtns').style.display = 'none';
  }
  showTyping();
  await new Promise(r => setTimeout(r, 650));
  if (orderStep === 'confirm' && (txt.toLowerCase().includes('yes') || txt.toLowerCase().includes('ndio'))) {
    await confirmOrder(); return;
  }
  removeTyping();
  const reply = getReply(txt);
  if (reply) addBotMsg(reply);
  chatBusy = false;
  document.getElementById('sendBtn').disabled = false;
}

function sendFromInput() {
  const inp = document.getElementById('chatInput');
  const txt = inp.value.trim();
  if (txt) { inp.value = ''; userSend(txt); }
}

function orderItem(item) {
  goTo('chat');
  if (!chatStarted) initChat();
  setTimeout(() => userSend('I want to order ' + item), 400);
}

// â”€â”€â”€ ADMIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let adminToken = null;

async function doLogin() {
  const u = document.getElementById('adminUser').value;
  const p = document.getElementById('adminPass').value;
  const errEl = document.getElementById('loginErr');
  const btn = document.getElementById('loginBtn');
  errEl.innerHTML = '';
  btn.textContent = 'Logging in...'; btn.disabled = true;
  try {
    const res = await fetch(API + '/api/admin/login', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({username: u, password: p})
    });
    const data = await res.json();
    if (!data.success) throw new Error(data.message || 'Invalid credentials');
    adminToken = data.token;
    document.getElementById('adminLogin').style.display = 'none';
    document.getElementById('adminDash').style.display = 'block';
    loadOrders();
  } catch(e) {
    errEl.innerHTML = '<div class="alert-err">' + e.message + '</div>';
  }
  btn.textContent = 'Login â†’'; btn.disabled = false;
}

function doLogout() {
  adminToken = null;
  document.getElementById('adminLogin').style.display = 'block';
  document.getElementById('adminDash').style.display = 'none';
  document.getElementById('adminUser').value = '';
  document.getElementById('adminPass').value = '';
}

function switchTab(tab, el) {
  document.querySelectorAll('.atab').forEach(b => b.classList.remove('on'));
  el.classList.add('on');
  document.getElementById('tab-orders').style.display = tab === 'orders' ? 'block' : 'none';
  document.getElementById('tab-gallery').style.display = tab === 'gallery' ? 'block' : 'none';
  if (tab === 'gallery') renderAdminGallery();
}

async function loadOrders() {
  try {
    const [or, sr] = await Promise.all([
      fetch(API + '/api/admin/orders', {headers:{Authorization:'Bearer '+adminToken}}),
      fetch(API + '/api/admin/stats', {headers:{Authorization:'Bearer '+adminToken}})
    ]);
    const od = await or.json(), sd = await sr.json(), s = sd.stats || {};
    document.getElementById('statsGrid').innerHTML =
      '<div class="stat-card"><div class="stat-n">' + (s.totalOrders||0) + '</div><div class="stat-l">Total Orders</div></div>' +
      '<div class="stat-card"><div class="stat-n">' + (s.pendingOrders||0) + '</div><div class="stat-l">Pending</div></div>' +
      '<div class="stat-card"><div class="stat-n">' + (s.todayOrders||0) + '</div><div class="stat-l">Today</div></div>' +
      '<div class="stat-card"><div class="stat-n">' + (s.deliveryCount||0) + '</div><div class="stat-l">Deliveries</div></div>';
    const orders = od.data || [];
    if (!orders.length) {
      document.getElementById('ordersContent').innerHTML =
        '<div style="text-align:center;padding:50px;color:var(--muted)"><div style="font-size:40px;margin-bottom:10px">ğŸ‚</div><p>No orders yet! Orders from chat will appear here.</p></div>';
      return;
    }
    document.getElementById('ordersContent').innerHTML =
      '<div class="orders-table">' +
      '<div class="orders-head"><span>Order ID</span><span>Customer</span><span>Item</span><span>Status</span></div>' +
      orders.map(o =>
        '<div class="order-row">' +
        '<span style="font-size:9px;color:#bbb;font-weight:600">' + (o.orderId||'') + '</span>' +
        '<span><div style="font-weight:600">' + (o.customer&&o.customer.name||'') + '</div><div style="font-size:10px;color:var(--muted)">' + (o.customer&&o.customer.phone||'') + '</div></span>' +
        '<span><div style="font-weight:500">' + (o.item&&o.item.type||'') + '</div><div style="font-size:10px;color:var(--muted)">' + (o.delivery&&o.delivery.type||'') + '</div></span>' +
        '<span><span class="badge badge-' + (o.status==='confirmed'?'confirmed':'pending') + '">' + (o.status||'pending') + '</span></span>' +
        '</div>'
      ).join('') + '</div>';
  } catch(e) {
    document.getElementById('ordersContent').innerHTML =
      '<div class="alert-err">Could not load orders. <a href="https://abby-backend.onrender.com" target="_blank" style="color:var(--rose)">Wake the backend first</a></div>';
  }
}

// â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
initHours();
</script>
</body>
</html>
